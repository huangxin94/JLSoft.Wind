<?xml version="1.0" encoding="utf-8" ?>
<nlog xmlns="http://www.nlog-project.org/schemas/NLog.xsd"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<targets>
		<!-- 各模块独立文件 -->
		<target name="plcFile" xsi:type="File" fileName="nlog_logs/${date:format=yyyy-MM-dd}/plc_${date:format=yyyy-MM-dd}.log"
				layout="${longdate}|${level:uppercase=true}|${logger}|${message}" />
		<target name="robotFile" xsi:type="File" fileName="nlog_logs/${date:format=yyyy-MM-dd}/robot_${date:format=yyyy-MM-dd}.log"
				layout="${longdate}|${level:uppercase=true}|${logger}|${message}" />
		<target name="userFile" xsi:type="File" fileName="nlog_logs/${date:format=yyyy-MM-dd}/user_${date:format=yyyy-MM-dd}.log"
				layout="${longdate}|${level:uppercase=true}|${logger}|${message}" />
		<target name="systemFile" xsi:type="File" fileName="nlog_logs/${date:format=yyyy-MM-dd}/system_${date:format=yyyy-MM-dd}.log"
				layout="${longdate}|${level:uppercase=true}|${logger}|${message}" />
		<!-- 总日志文件 -->
		<target name="allFile" xsi:type="File" fileName="nlog_logs/${date:format=yyyy-MM-dd}/app_${date:format=yyyy-MM-dd}.log"
				layout="${longdate}|${level:uppercase=true}|${logger}|${message}" />
		<!-- 控制台 -->
		<target name="console" xsi:type="Console"
				layout="${longdate}|${level:uppercase=true}|${logger}|${message}" />
	</targets>
	<rules>
		<!-- 按模块分配 -->
		<logger name="PLC*" minlevel="Info" writeTo="plcFile" final="true" />
		<logger name="Robot*" minlevel="Info" writeTo="robotFile" final="true" />
		<logger name="User*" minlevel="Info" writeTo="userFile" final="true" />
		<logger name="System*" minlevel="Info" writeTo="systemFile" final="true" />

		<!-- 所有日志写入总文件（修正目标名称） -->
		<logger name="*" minlevel="Info" writeTo="allFile" />

		<!-- Debug及以上写入控制台 -->
		<logger name="*" minlevel="Debug" writeTo="console" />
	</rules>
</nlog>